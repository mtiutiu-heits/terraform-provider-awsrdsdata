---
page_title: "Provider: AWSRDSDATA"
description: |-
  A Terraform provider that uses the [AWS RDS data service](https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/data-api.html) to provision MySQL users and grant privileges.
---

# AWSRDSDATA Provider

The AWSRDSDATA provider provides utilities for working with *RDS MySQL Clusters (Aurora V1)*
users and privileges. It provides resources that allow MySQL users and privileges 
to be created as part of a Terraform deployment.

**Important Note:**

Make sure to **enable the HTTP endpoint** for the RDS data service (e.g. set **`enable_http_endpoint`** to **`true`** for the **`aws_rds_cluster`** resource).

Use the navigation to the left to read about the available resources.

## Example Usage

```terraform
provider "awsrdsdata" {
  region = "us-east-1"
}

resource "random_password" "master_password" {
  length  = 16
  special = false
}

resource "aws_secretsmanager_secret" "db_credentials" {
  name = "master_db_credentials"
}

resource "aws_secretsmanager_secret_version" "db_credentials" {
  secret_id = aws_secretsmanager_secret.db_credentials.id
  secret_string = jsonencode(
    {
      username = aws_rds_cluster.default.master_username
      password = aws_rds_cluster.default.master_password
      host     = aws_rds_cluster.aurora_cluster.endpoint
      port     = aws_rds_cluster.aurora_cluster.port
    }
  )
}

resource "aws_rds_cluster" "default" {
  cluster_identifier      = "aurora-cluster-demo"
  engine                  = "aurora-mysql"
  engine_version          = "5.7.mysql_aurora.2.03.2"
  availability_zones      = ["us-west-2a", "us-west-2b", "us-west-2c"]
  database_name           = "test"
  master_username         = "master"
  master_password         = random_password.master_password.result
  backup_retention_period = 5
  preferred_backup_window = "07:00-09:00"
  enable_http_endpoint    = true # <- this is very important
}

resource "awsrdsdata_mysql_user" "account" {
  user                  = "test"
  host                  = "%"
  password              = "test123456789012333"
  database_resource_arn = aws_rds_cluster.default.arn
  database_secret_arn   = aws_secretsmanager_secret.db_credentials.arn
}

resource "awsrdsdata_mysql_grant" "permissions" {
  user                  = awsrdsdata_mysql_user.account.user
  host                  = awsrdsdata_mysql_user.account.host
  database              = "test"
  privileges            = ["SELECT", "INSERT", "UPDATE"]
  database_resource_arn = aws_rds_cluster.default
  database_secret_arn   = aws_secretsmanager_secret.db_credentials.arn
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `region` (String) The RDS data service AWS region
